<div ng-app="app">
  <div ng-controller="cartedCtrl" ng-init="setup()">

    <div class="clearfix"></div>

    <div class="video" id="home">
      <div class="fullscreen-bg">
        <video loop muted autoplay class="fullscreen-bg__video">
          <source src="http://media.ezlinksgolf.com/EZLinks-Images/Capstone/test_video3.mp4" type="video/mp4">
          </video>
        </div>
      </div>

      <section id="search">
        <div class="space-70"></div>
        <div class="container">
          <!-- <div class="heading-style-center"> -->

          <div class="search_section">
            <!-- Search Form-->
            <h1><center>Date Night</center></h1>
            <h2><center>Pick a date to see what is available now!</center></h2>
            <%= form_tag '/', method: :get do %>
            <div class="form1">
              <%= text_field_tag :search_term, nil, class: "form-control", placeholder: "yyyy-mm-dd" %>
              <center><%= submit_tag "Search",  class: "btn btn-success" %></center>
            </div>
            <% end %>
            <!--end-seach form-->


          </div>
        </div>
      </section>

      <section id="category">
        <div class="space-70"></div>
        <div class="container">
          <div class="heading-style-center">


            <h1>Select a Category</h1>
          </div>
          <div class="row">
            <div class="col-sm-4 text-center">
              <div class="box-style-1 border-style  margin-b-30">

                <span class="livicon " data-size="48" data-name="trophy" data-duration="1000"></span>
                <div class="space-20"></div>
                <h3>Sports</h3>

                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure pariatur ex rerum laudantium accusamus ab ut quidem ducimus veniam eveniet, voluptate.

                  <!-- Sports Results -->
                  <!-- Large modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#sports">Sports</button>

                  <div class="modal" id="sports">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h2>Sports</h2>

                        </div>
                        <div class="table-responsive">
                          <table id="resultssports" class="table table-striped table-bordered"  width="100%">
                            <thead>
                              <tr>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Theater Name</th>
                                <th>Date Time</th>
                                <th>Save</th>
                              </tr>
                            </thead>

                            <tbody>
                              <% @sports.each do |event| %>
                              <tr>
                                <td><%= event["title"]%></td>
                                <td><%= event["type"] %></td>
                                <td><%= number_to_currency(event["stats"]["lowest_price"]) %></td>
                                <td><%= event["venue"]["name"] %></td>
                                <td><%= event["datetime_local"] %></td>
                                <td><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000" ng-click="addCartedEvent(<%= event.to_json %>)"></span></td>
                              </tr>
                              <% end %>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                </p>




              </div>
            </div><!--end col-->
            <div class="col-sm-4 text-center">
              <div class="box-style-1 border-style  margin-b-30">

                <span class="livicon " data-size="48" data-name="music" data-duration="1000"></span>
                <div class="space-20"></div>
                <h3>Concert</h3>


                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure pariatur ex rerum laudantium accusamus ab ut quidem ducimus veniam eveniet, voluptate.
                  <!-- Concert Results -->
                  <!-- Large modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#concerts">Concerts</button>

                  <div class="modal" id="concerts">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h2>Concerts</h2>
                        </div>
                        <div class="table-responsive">
                          <table id="resultsconcerts" class="table table-striped table-bordered"  width="100%">
                            <thead>
                              <tr>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Theater Name</th>
                                <th>Date Time</th>
                                <th>Save</th>
                              </tr>
                            </thead>

                            <tbody>
                              <% @concerts.each do |event| %>
                              <tr>
                                <td><%= event["title"]%></td>
                                <td><%= event["type"] %></td>
                                <td><%= number_to_currency(event["stats"]["lowest_price"]) %></td>
                                <td><%= event["venue"]["name"] %></td>
                                <td><%= event["datetime_local"] %></td>
                                <td><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000" ng-click="addCartedEvent(<%= event.to_json %>)"></span></td>
                              </tr>
                              <% end %>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                </p>



              </div>
            </div><!--end col-->
            <div class="col-sm-4 text-center">
              <div class="box-style-1 border-style  margin-b-30">

                <span class="livicon " data-size="48" data-name="bank" data-duration="1000"></span>
                <div class="space-20"></div>
                <h3>Theater</h3>


                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure pariatur ex rerum laudantium accusamus ab ut quidem ducimus veniam eveniet, voluptate.

                  <!-- Theater Results -->
                  <!-- Large modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#theater">Theater</button>

                  <div class="modal" id="theater">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h2>Theater</h2>
                        </div>
                        <div class="table-responsive">
                          <table id="resultstheaters" class="table table-striped table-bordered"  width="100%">
                            <thead>
                              <tr>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Theater Name</th>
                                <th>Date Time</th>
                                <th>Save</th>
                              </tr>
                            </thead>

                            <tbody>
                              <% @theaters.each do |event| %>
                              <tr>
                                <td><%= event["title"]%></td>
                                <td><%= event["type"] %></td>
                                <td><%= number_to_currency(event["stats"]["lowest_price"]) %></td>
                                <td><%= event["venue"]["name"] %></td>
                                <td><%= event["datetime_local"] %></td>
                                <td><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000" ng-click="addCartedEvent(<%= event.to_json %>)"></span></td>
                              </tr>
                              <% end %>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                </p>



              </div>
            </div><!--end col-->
          </div><!--end row-->
          <div class="row">
            <div class="col-sm-4 text-center">
              <div class="box-style-1 border-style  margin-b-30">

                <span class="livicon " data-size="48" data-name="wine" data-duration="1000"></span>
                <div class="space-20"></div>
                <h3>Dinner</h3>

                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure pariatur ex rerum laudantium accusamus ab ut quidem ducimus veniam eveniet, voluptate.

                  <!-- Dinner Results -->
                  <!-- Large modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#dinner">Dinner</button>

                  <div class="modal" id="dinner">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h2>Dinner</h2>
                        </div>
                        <div class="table-responsive">
                          <table id="resultsdinner" class="table table-striped table-bordered"  width="100%">
                            <thead>
                              <tr>
                                <th>Name</th>
                                <th>Price</th>
                                <th>City</th>
                                <th>State</th>
                                <th>Zip</th>
                                <th>Save</th>
                              </tr>
                            </thead>

                            <tbody>
                              <% @restaurants.each do |restaurant| %>
                              <tr>
                                <td><%= restaurant["name"]%></td>
                                <td><%= restaurant["price"] %></td>
                                <td><%= restaurant["city"] %></td>
                                <td><%= restaurant["state"] %></td>
                                <td><%= restaurant["postal_code"] %></td>
                                <td><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000" ng-click="addCartedDinner(<%= restaurant.to_json %>)"></span></td>
                              </tr>
                              <% end %>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                </p>

              </div>
            </div><!--end col-->
            <div class="col-sm-4 text-center">
              <div class="box-style-1 border-style  margin-b-30">

                <span class="livicon " data-size="48" data-name="tablet" data-duration="1000"></span>
                <div class="space-20"></div>
                <h3>All</h3>


                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure pariatur ex rerum laudantium accusamus ab ut quidem ducimus veniam eveniet, voluptate.

                  <!-- All Results -->
                  <!-- Large modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#all">All</button>

                  <div class="modal" id="all">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h2>All</h2>
                        </div>
                        <div class="table-responsive">
                          <table id="resultsall" class="table table-striped table-bordered"  width="100%">
                            <thead>
                              <tr>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Theater Name</th>
                                <th>Date Time</th>
                                <th>Save</th>
                              </tr>
                            </thead>

                            <tbody>
                              <% @events.each do |event| %>
                              <tr>
                                <td><%= event["title"]%></td>
                                <td><%= event["type"] %></td>
                                <td><%= number_to_currency(event["stats"]["lowest_price"]) %></td>
                                <td><%= event["venue"]["name"] %></td>
                                <td><%= event["datetime_local"] %></td>
                                <td><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000" ng-click="addCartedEvent(<%= event.to_json %>)"></span></td>
                              </tr>
                              <% end %>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>

                </p>


              </div>
            </div><!--end col-->
            <div class="col-sm-4 text-center">
              <div class="box-style-1 border-style  margin-b-30">

                <span class="livicon " data-size="48" data-name="piggybank" data-duration="1000"></span>
                <div class="space-20"></div>
                <h3>Free</h3>


                <p>
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure pariatur ex rerum laudantium accusamus ab ut quidem ducimus veniam eveniet, voluptate.

                  <!-- All Results -->
                  <!-- Large modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#free">Free</button>

                  <div class="modal" id="free">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h2>Free</h2>
                        </div>
                        <div class="modal-body">
                          <iframe src="https://calendar.google.com/calendar/embed?src=chicagosummercalendar%40gmail.com&ctz=America/Chicago" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
                        </div>

                      </div>
                    </div>
                  </div>

                </p>


              </div>
            </div><!--end col-->
          </div><!--end row-->
        </div>
      </section>


      <section id="carted">
        <div class="space-40"></div>
        <div class="skin-bg process-style">
          <h1><center>Events</center></h1>
          <div class="container">
            <div class="row">
              <div class="table-responsive">
                <table class="table table-striped table-bordered"  width="100%">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Category</th>
                      <th>Price</th>
                      <th>Theater Name</th>
                      <th>Date Time</th>
                      <th>Confirm</th>
                      <th>Delete</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="cartedEvent in cartedEvents track by $index">
                      <td>{{cartedEvent.title}}</td>
                      <td>{{cartedEvent.type}}</td>
                      <td>{{cartedEvent.stats.lowest_price | currency:"$"}}</td>
                      <td>{{cartedEvent.venue.name}}</td>
                      <td>{{cartedEvent.datetime_local}}</td>
                      <td><a href="{{cartedEvent.url}}" target="_blank"><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000"></span></a></td>
                      <td><span class="livicon " data-size="48" data-name="thumbs-down" data-duration="1000" ng-click="deleteCartedEvent($index)"></span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="space-40"></div>

        <div class="space-40"></div>
        <div class="skin-bg process-style">
          <h1><center>Dinner</center></h1>
          <div class="container">
            <div class="row">
              <div class="table-responsive">
                <table class="table table-striped table-bordered"  width="100%">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>Price</th>
                      <th>City</th>
                      <th>State</th>
                      <th>Zip</th>
                      <th>Confirm</th>
                      <th>Delete</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="cartedDinner in cartedDinners track by $index">
                      <td>{{cartedDinner.name}}</td>
                      <td>{{cartedDinner.price}}</td>
                      <td>{{cartedDinner.city}}</td>
                      <td>{{cartedDinner.state}}</td>
                      <td>{{cartedDinner.postal_code}}</td>
                      <td><a href="{{cartedDinner.reserve_url}}"><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000"></span></a></td>
                      <td><span class="livicon " data-size="48" data-name="thumbs-down" data-duration="1000" ng-click="deleteCartedDinner($index)"></span></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="space-40"></div>
      </section>

      <section id="cartedtabs">
        <div class="space-40"></div>
        <div class="skin-bg process-style">
          <div class="container">
            <!-- Tabs Test Begin-->

            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <li role="presentation" class="active"><a href="#eventstab" aria-controls="home" role="tab" data-toggle="tab">Events</a></li>
              <li role="presentation"><a href="#dinnertabs" aria-controls="profile" role="tab" data-toggle="tab">Dinner</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
              <div role="tabpanel" class="tab-pane active" id="eventstab">
                <div class="table-responsive">
                  <table class="table table-striped table-bordered"  width="100%">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th>Theater Name</th>
                        <th>Date Time</th>
                        <th>Confirm</th>
                        <th>Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="cartedEvent in cartedEvents track by $index">
                        <td>{{cartedEvent.title}}</td>
                        <td>{{cartedEvent.type}}</td>
                        <td>{{cartedEvent.stats.lowest_price | currency:"$"}}</td>
                        <td>{{cartedEvent.venue.name}}</td>
                        <td>{{cartedEvent.datetime_local}}</td>
                        <td><a href="{{cartedEvent.url}}"><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000"></span></a></td>
                        <td><span class="livicon " data-size="48" data-name="thumbs-down" data-duration="1000" ng-click="deleteCartedEvent($index)"></span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>


              <div role="tabpanel" class="tab-pane" id="dinnertabs">
                <div class="table-responsive">
                  <table class="table table-striped table-bordered"  width="100%">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Price</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Zip</th>
                        <th>Confirm</th>
                        <th>Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="cartedDinner in cartedDinners track by $index">
                        <td>{{cartedDinner.name}}</td>
                        <td>{{cartedDinner.price}}</td>
                        <td>{{cartedDinner.city}}</td>
                        <td>{{cartedDinner.state}}</td>
                        <td>{{cartedDinner.postal_code}}</td>
                        <td><a href="{{cartedDinner.reserve_url}}"><span class="livicon " data-size="48" data-name="thumbs-up" data-duration="1000"></span></a></td>
                        <td><span class="livicon " data-size="48" data-name="thumbs-down" data-duration="1000" ng-click="deleteCartedDinner($index)"></span></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Tabs Test Ends -->

          </div>
        </div>
      </div>
      <div class="space-40"></div>
    </section>



</div> <!-- end of ng-controller -->
</div> <!-- end of ng-app -->
